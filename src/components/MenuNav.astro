---
import "../styles/global.css";

const navLinks = [
    { href: "#nosotros", label: "acerca de" },
    { href: "#servicios", label: "servicios" },
    { href: "#footer", label: "contacto" },
];
---

<script>
    const menuToggle = document.querySelector(".menu-toggle");
    const navLinks = document.querySelector(".nav-links");

    if (menuToggle && navLinks) {
        menuToggle.addEventListener("click", () => {
            menuToggle.classList.toggle("active");
            navLinks.classList.toggle("active");
        });

        const links = navLinks.querySelectorAll("a");
        links.forEach((link) => {
            link.addEventListener("click", () => {
                menuToggle.classList.remove("active");
                navLinks.classList.remove("active");
            });
        });
    }
</script>

<nav class="py-1 px-3 sticky top-0 z-50 shadow-lg bg-black">
    <div class="mx-auto flex justify-between items-center">
        <a
            href="/"
            class="text-white text-2xl font-medium hover:text-blue-400 transition-colors"
        >
            Rk Refrigeracion
        </a>

        <button
            class="menu-toggle md:hidden flex flex-col gap-1.5 p-2 focus:outline-none"
            aria-label="Abrir menú de navegación"
        >
            <span
                class="hamburger w-6 h-0.5 bg-white rounded transition-all duration-300"
            ></span>
            <span
                class="hamburger w-6 h-0.5 bg-white rounded transition-all duration-300"
            ></span>
            <span
                class="hamburger w-6 h-0.5 bg-white rounded transition-all duration-300"
            ></span>
        </button>

        <ul
            class="nav-links md:flex md:gap-8 md:static md:flex-row md:max-h-none md:bg-transparent absolute top-full left-0 right-0 bg-black flex-col gap-0 max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
        >
            {
                navLinks.map((link) => (
                    <li class="md:border-none border-b border-gray-700">
                        <a
                            href={link.href}
                            class="block md:inline-block py-4 px-6 md:p-0 text-white hover:underline "
                        >
                            {link.label}
                        </a>
                    </li>
                ))
            }
        </ul>
    </div>
</nav>
<style>
    .nav-links.active {
        max-height: 300px;
    }

    .menu-toggle.active .hamburger:nth-child(1) {
        transform: rotate(45deg) translate(8px, 8px);
    }

    .menu-toggle.active .hamburger:nth-child(2) {
        opacity: 0;
    }

    .menu-toggle.active .hamburger:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -7px);
    }
</style>
